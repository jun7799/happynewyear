<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Êñ∞Âπ¥ËÆ∏ÊÑøÊ±† - ËÆ∏‰∏ã‰Ω†ÁöÑÊñ∞Âπ¥ÊÑøÊúõÔºå‰∏éÂ§ßÂÆ∂ÂàÜ‰∫´ÁæéÂ•ΩÁöÑÊúüËÆ∏">
  <title>Êñ∞Âπ¥ËÆ∏ÊÑøÊ±† üèÆ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <!-- ËàûÁãÆÂä®Áîª -->
  <div class="lion-dance-container">
    <!-- Â∑¶ËæπËàûÁãÆ -->
    <div class="lion-wrapper lion-wrapper-left">
      <svg class="lion-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="lionBodyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#E53935"/>
            <stop offset="100%" style="stop-color:#C62828"/>
          </linearGradient>
          <linearGradient id="lionHeadGrad" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#EF5350"/>
            <stop offset="100%" style="stop-color:#D32F2F"/>
          </linearGradient>
          <linearGradient id="hornGrad" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#FFD700"/>
            <stop offset="100%" style="stop-color:#FFA000"/>
          </linearGradient>
        </defs>

        <!-- Ë∫´‰ΩìÊØõÁêÉË£ÖÈ•∞ -->
        <circle class="lion-body-fur" cx="55" cy="135" r="12" fill="#FFD700"/>
        <circle class="lion-body-fur" cx="100" cy="145" r="12" fill="#FFD700"/>
        <circle class="lion-body-fur" cx="145" cy="135" r="12" fill="#FFD700"/>

        <!-- Ë∫´‰Ωì -->
        <ellipse cx="100" cy="150" rx="60" ry="35" fill="url(#lionBodyGrad)"/>

        <!-- Â∞æÂ∑¥ -->
        <path d="M40 150 Q20 140 25 120" stroke="url(#lionBodyGrad)" stroke-width="8" fill="none" stroke-linecap="round"/>
        <circle cx="25" cy="115" r="8" fill="#FFD700"/>

        <!-- Â§¥ÈÉ® -->
        <ellipse cx="100" cy="90" rx="55" ry="50" fill="url(#lionHeadGrad)"/>

        <!-- ÈáëËâ≤ËæπÊ°Ü -->
        <ellipse cx="100" cy="90" rx="55" ry="50" fill="none" stroke="#FFD700" stroke-width="4"/>

        <!-- ËÄ≥Êúµ -->
        <g class="lion-ear-left">
          <ellipse cx="48" cy="60" rx="15" ry="20" fill="#C62828"/>
          <ellipse cx="48" cy="60" rx="8" ry="12" fill="#E53935"/>
        </g>
        <g class="lion-ear-right">
          <ellipse cx="152" cy="60" rx="15" ry="20" fill="#C62828"/>
          <ellipse cx="152" cy="60" rx="8" ry="12" fill="#E53935"/>
        </g>

        <!-- Ëßí -->
        <path class="lion-horn-left" d="M70 50 Q65 35 70 25" stroke="url(#hornGrad)" stroke-width="8" fill="none" stroke-linecap="round"/>
        <path class="lion-horn-right" d="M130 50 Q135 35 130 25" stroke="url(#hornGrad)" stroke-width="8" fill="none" stroke-linecap="round"/>

        <!-- ÁúºÁùõ -->
        <g class="lion-eye-left">
          <ellipse cx="80" cy="85" rx="16" ry="18" fill="white"/>
          <g class="lion-eyelid">
            <ellipse cx="80" cy="85" rx="16" ry="18" fill="white"/>
          </g>
          <circle class="lion-eye-pupil" cx="80" cy="87" r="9" fill="#1A1A1A"/>
          <circle cx="76" cy="82" r="4" fill="white"/>
        </g>
        <g class="lion-eye-right">
          <ellipse cx="120" cy="85" rx="16" ry="18" fill="white"/>
          <g class="lion-eyelid">
            <ellipse cx="120" cy="85" rx="16" ry="18" fill="white"/>
          </g>
          <circle class="lion-eye-pupil" cx="120" cy="87" r="9" fill="#1A1A1A"/>
          <circle cx="116" cy="82" r="4" fill="white"/>
        </g>

        <!-- ÈºªÂ≠ê -->
        <ellipse cx="100" cy="105" rx="18" ry="14" fill="#8B0000"/>
        <ellipse cx="94" cy="107" rx="4" ry="5" fill="#1A1A1A"/>
        <ellipse cx="106" cy="107" rx="4" ry="5" fill="#1A1A1A"/>

        <!-- Âò¥Â∑¥ -->
        <g class="lion-mouth">
          <path d="M85 120 Q100 135 115 120" fill="#FF6B6B"/>
          <ellipse cx="100" cy="125" rx="12" ry="8" fill="#FF1744"/>
        </g>

        <!-- ËÉ°È°ª -->
        <g class="lion-whisker-left">
          <path d="M55 95 L35 90" stroke="#FFD700" stroke-width="2"/>
          <path d="M55 100 L32 98" stroke="#FFD700" stroke-width="2"/>
          <path d="M55 105 L35 110" stroke="#FFD700" stroke-width="2"/>
        </g>
        <g class="lion-whisker-right">
          <path d="M145 95 L165 90" stroke="#FFD700" stroke-width="2"/>
          <path d="M145 100 L168 98" stroke="#FFD700" stroke-width="2"/>
          <path d="M145 105 L165 110" stroke="#FFD700" stroke-width="2"/>
        </g>

        <!-- È¢ùÂ§¥Ë£ÖÈ•∞ -->
        <circle cx="100" cy="55" r="10" fill="#FFD700"/>
        <text x="100" y="60" text-anchor="middle" font-size="12" fill="#C62828">Áéã</text>
      </svg>
    </div>

    <!-- Áª£ÁêÉ -->
    <div class="lion-ball-wrapper">
      <svg class="lion-ball-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <radialGradient id="ballGrad" cx="35%" cy="35%">
            <stop offset="0%" style="stop-color:#FFEB3B"/>
            <stop offset="100%" style="stop-color:#FFA000"/>
          </radialGradient>
        </defs>

        <!-- Áª£ÁêÉ‰∏ª‰Ωì -->
        <circle cx="50" cy="50" r="35" fill="url(#ballGrad)"/>

        <!-- Ë£ÖÈ•∞Êù°Á∫π -->
        <path d="M50 15 A35 35 0 0 1 50 85" fill="none" stroke="#D32F2F" stroke-width="3"/>
        <path d="M50 15 A35 35 0 0 0 50 85" fill="none" stroke="#D32F2F" stroke-width="3"/>
        <circle cx="50" cy="50" r="35" fill="none" stroke="#D32F2F" stroke-width="3"/>

        <!-- ÊµÅËãè -->
        <g class="lion-ball-tassel">
          <path d="M40 80 Q35 95 40 100" stroke="#FFD700" stroke-width="4" fill="none"/>
        </g>
        <g class="lion-ball-tassel">
          <path d="M50 82 Q50 97 50 102" stroke="#FFD700" stroke-width="4" fill="none"/>
        </g>
        <g class="lion-ball-tassel">
          <path d="M60 80 Q65 95 60 100" stroke="#FFD700" stroke-width="4" fill="none"/>
        </g>
      </svg>
    </div>

    <!-- Âè≥ËæπËàûÁãÆ -->
    <div class="lion-wrapper lion-wrapper-right">
      <svg class="lion-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="lionBodyGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#E53935"/>
            <stop offset="100%" style="stop-color:#C62828"/>
          </linearGradient>
          <linearGradient id="lionHeadGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#EF5350"/>
            <stop offset="100%" style="stop-color:#D32F2F"/>
          </linearGradient>
          <linearGradient id="hornGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#FFD700"/>
            <stop offset="100%" style="stop-color:#FFA000"/>
          </linearGradient>
        </defs>

        <!-- Ë∫´‰ΩìÊØõÁêÉË£ÖÈ•∞ -->
        <circle class="lion-body-fur" cx="55" cy="135" r="12" fill="#FFD700"/>
        <circle class="lion-body-fur" cx="100" cy="145" r="12" fill="#FFD700"/>
        <circle class="lion-body-fur" cx="145" cy="135" r="12" fill="#FFD700"/>

        <!-- Ë∫´‰Ωì -->
        <ellipse cx="100" cy="150" rx="60" ry="35" fill="url(#lionBodyGrad2)"/>

        <!-- Â∞æÂ∑¥ -->
        <path d="M40 150 Q20 140 25 120" stroke="url(#lionBodyGrad2)" stroke-width="8" fill="none" stroke-linecap="round"/>
        <circle cx="25" cy="115" r="8" fill="#FFD700"/>

        <!-- Â§¥ÈÉ® -->
        <ellipse cx="100" cy="90" rx="55" ry="50" fill="url(#lionHeadGrad2)"/>

        <!-- ÈáëËâ≤ËæπÊ°Ü -->
        <ellipse cx="100" cy="90" rx="55" ry="50" fill="none" stroke="#FFD700" stroke-width="4"/>

        <!-- ËÄ≥Êúµ -->
        <g class="lion-ear-left">
          <ellipse cx="48" cy="60" rx="15" ry="20" fill="#C62828"/>
          <ellipse cx="48" cy="60" rx="8" ry="12" fill="#E53935"/>
        </g>
        <g class="lion-ear-right">
          <ellipse cx="152" cy="60" rx="15" ry="20" fill="#C62828"/>
          <ellipse cx="152" cy="60" rx="8" ry="12" fill="#E53935"/>
        </g>

        <!-- Ëßí -->
        <path class="lion-horn-left" d="M70 50 Q65 35 70 25" stroke="url(#hornGrad2)" stroke-width="8" fill="none" stroke-linecap="round"/>
        <path class="lion-horn-right" d="M130 50 Q135 35 130 25" stroke="url(#hornGrad2)" stroke-width="8" fill="none" stroke-linecap="round"/>

        <!-- ÁúºÁùõ -->
        <g class="lion-eye-left">
          <ellipse cx="80" cy="85" rx="16" ry="18" fill="white"/>
          <g class="lion-eyelid">
            <ellipse cx="80" cy="85" rx="16" ry="18" fill="white"/>
          </g>
          <circle class="lion-eye-pupil" cx="80" cy="87" r="9" fill="#1A1A1A"/>
          <circle cx="76" cy="82" r="4" fill="white"/>
        </g>
        <g class="lion-eye-right">
          <ellipse cx="120" cy="85" rx="16" ry="18" fill="white"/>
          <g class="lion-eyelid">
            <ellipse cx="120" cy="85" rx="16" ry="18" fill="white"/>
          </g>
          <circle class="lion-eye-pupil" cx="120" cy="87" r="9" fill="#1A1A1A"/>
          <circle cx="116" cy="82" r="4" fill="white"/>
        </g>

        <!-- ÈºªÂ≠ê -->
        <ellipse cx="100" cy="105" rx="18" ry="14" fill="#8B0000"/>
        <ellipse cx="94" cy="107" rx="4" ry="5" fill="#1A1A1A"/>
        <ellipse cx="106" cy="107" rx="4" ry="5" fill="#1A1A1A"/>

        <!-- Âò¥Â∑¥ -->
        <g class="lion-mouth">
          <path d="M85 120 Q100 135 115 120" fill="#FF6B6B"/>
          <ellipse cx="100" cy="125" rx="12" ry="8" fill="#FF1744"/>
        </g>

        <!-- ËÉ°È°ª -->
        <g class="lion-whisker-left">
          <path d="M55 95 L35 90" stroke="#FFD700" stroke-width="2"/>
          <path d="M55 100 L32 98" stroke="#FFD700" stroke-width="2"/>
          <path d="M55 105 L35 110" stroke="#FFD700" stroke-width="2"/>
        </g>
        <g class="lion-whisker-right">
          <path d="M145 95 L165 90" stroke="#FFD700" stroke-width="2"/>
          <path d="M145 100 L168 98" stroke="#FFD700" stroke-width="2"/>
          <path d="M145 105 L165 110" stroke="#FFD700" stroke-width="2"/>
        </g>

        <!-- È¢ùÂ§¥Ë£ÖÈ•∞ -->
        <circle cx="100" cy="55" r="10" fill="#FFD700"/>
        <text x="100" y="60" text-anchor="middle" font-size="12" fill="#C62828">Áéã</text>
      </svg>
    </div>
  </div>

  <!-- ËÉåÊôØË£ÖÈ•∞Â±Ç -->
  <div class="bg-layer">
    <div class="lanterns">
      <div class="lantern lantern-1"><span class="lantern-string"></span><span class="lantern-body">Á¶è</span></div>
      <div class="lantern lantern-2"><span class="lantern-string"></span><span class="lantern-body">Âêâ</span></div>
      <div class="lantern lantern-3"><span class="lantern-string"></span><span class="lantern-body">Á••</span></div>
    </div>
    <div class="snow-container"></div>
    <div class="fireworks-container"></div>
  </div>

  <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
  <header class="topbar">
    <div class="brand">
      <span class="brand-text">ËÆ∏ÊÑøÊ±†</span>
      <span class="brand-icon">üèÆ</span>
    </div>
    <a class="wish-btn" href="{{ wish_entry_url }}" target="_blank" rel="noopener">
      <span class="btn-text">ÂéªËÆ∏ÊÑø</span>
      <span class="btn-sparkle">‚ú®</span>
    </a>
  </header>

  <main class="content">
    <!-- ÂºπÂπïÂå∫Âüü -->
    <div id="danmaku" class="danmaku"></div>

    <!-- ÊÑøÊúõÂç°ÁâáÂàóË°® -->
    <section class="list">
      {% for w in wishes %}
      <article class="wish-card">
        <div class="wish-inner">
          <div class="wish-front">
            <div class="wish-emoji">{{ w.emoji or 'üéØ' }}</div>
            <p class="wish-content">{{ w.content }}</p>
            <div class="wish-footer">
              <span class="wish-author">{{ w.author }}</span>
              <span class="wish-date">{{ w.date or '2025' }}</span>
            </div>
            <button class="flip-btn" aria-label="Êü•ÁúãËØ¶ÊÉÖ">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 4L10 16M10 16L6 12M10 16L14 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="wish-back">
            <div class="blessing-content">
              <p class="blessing-text">ÊÑø‰Ω†ÁöÑÊÑøÊúõÊàêÁúü</p>
              <p class="blessing-sub">‚ú® Êñ∞Âπ¥Â•ΩËøêËøûËøû ‚ú®</p>
            </div>
            <div class="back-actions">
              <button class="share-btn" aria-label="ÁîüÊàêÂàÜ‰∫´Âç°Áâá" data-content="{{ w.content }}" data-author="{{ w.author }}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M4 10L16 10M16 10L12 6M16 10L12 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <span>ÁîüÊàêÂç°Áâá</span>
              </button>
            </div>
          </div>
        </div>
      </article>
      {% endfor %}
    </section>
  </main>

  <!-- È°µËÑö -->
  <footer class="footer">
    <div class="footer-content">
      <p class="footer-text">Áî® <span class="footer-heart">‚ù§Ô∏è</span> ËÆ∏‰∏ãÁæéÂ•ΩÊÑøÊúõ</p>
      <p class="footer-subtitle">Êñ∞Âπ¥Âø´‰πê ¬∑ ‰∏á‰∫ãÂ¶ÇÊÑè</p>
      <p class="footer-count">{{ wishes|length }} ‰∏™ÊÑøÊúõÂ∑≤Êî∂ÈõÜ</p>
    </div>
    <div class="footer-waves">
      <div class="wave wave-1"></div>
      <div class="wave wave-2"></div>
    </div>
  </footer>

  <!-- ÂàÜ‰∫´Âç°ÁâáÊ®°ÊÄÅÊ°Ü -->
  <div class="share-modal" id="shareModal">
    <div class="share-modal-content">
      <div class="share-modal-header">
        <h3>ÂàÜ‰∫´‰Ω†ÁöÑÊÑøÊúõ</h3>
        <button class="share-modal-close" aria-label="ÂÖ≥Èó≠">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="share-modal-body">
        <canvas id="shareCanvas"></canvas>
      </div>
      <div class="share-modal-footer">
        <button class="share-download-btn" id="downloadBtn">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 13L10 3M10 13L6 9M10 13L14 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M3 13V15C3 15.9319 3 16.3978 3.15224 16.7654C3.35523 17.2554 3.74458 17.6448 4.23463 17.8478C4.60218 18 5.06812 18 6 18H14C14.9319 18 15.3978 18 15.7654 17.8478C16.2554 17.6448 16.6448 17.2554 16.8478 16.7654C17 16.3978 17 15.9319 17 15V13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          ‰øùÂ≠òÂõæÁâá
        </button>
      </div>
    </div>
  </div>

  <script>
    window.WISHES = {{ wishes|tojson }};
  </script>
  <script src="{{ url_for('static', filename='js/danmaku.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs2@0.0.2/qrcode.min.js"></script>
  <script src="{{ url_for('static', filename='js/effects.js') }}"></script>
</body>
</html>
